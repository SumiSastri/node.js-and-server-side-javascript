Transcript: As your APIs get more complicated, you might need to refactor your code to make it cleaner and chaining multiple methods into a single block of code for a specific path, and chaining will do that. Let me demonstrate. So the first thing we need to do is to get a few of those calls in the same path. So let's change newItem to item, and let's make sure post is still working, yup. And then let's, for the images, change that for item, as well. And instead of doing the res.download, let's do the response here and make sure the response also reflects the type of call, so let's do a get request, item route on port. Boom, good to go. And let's also get this one here. And we'll change this one to put. And then just change it to put, as well, here. We got a put call, a get call, and then a delete call with all the same path, so we could probably save a few lines if we change this with chaining. So let's refactor that. So let me grab the first one here, and let's actually start from get, and let's basically close your path within a method. This becomes a parameter, and change get to route, like so. And then return that line on the next one, and there's a comma there, and then tab here, and this is where you add the get, like so. And let's make sure that we remove the semicolon and make sure we turn this into a function, a full function with braces. And let's make sure we put the closing curly brace on line 39, like so. And let's put also this here. So basically what I've done here is created a route method which passes this path, and then within that route, we have the get method that's available. And the get method is a function. It has open and closing parentheses. And then you pass the request, the response, and then the function, and then this is the function inside, which is a response, which we'll do a get request with item route on port 3000. Okay, so we're good to go. So the next one I want to do is grab the put, so let's grab that one here. So I'll highlight line 29 through 31, do a Command + X to cut, and then paste it after line 35. So return on line 35, paste it, and then remove the app, and then remove the item comma here, like so. And it should be very similar to what you're seeing here. And the function is there, so we're good to go. And let's make sure that we also close that parentheses here after, like so. And then finally, let's get the delete. And paste it there. So paste it after the put call. Remove the app. Remove the item and the comma. And make sure you close your comma here, like so, and then remove the comma here because we have one too many. And there we go. So we have a get call that's part of that specific function for route here, we have a put call, and we have a delete call. And let's just tab that one so we kind of get organized here. So for each one, we have a request response like before, and we have the function, which will send us a delete. And let's tab this one, too. This one will send us a put, so we're doing a put call for that route item. And then finally we have a delete call which will send us a delete request has been done on this route, and so on and so forth. And now we've reorganized our code, we saved a few lines, and then we can save, and you're good to go. So let's go and test that, so if our routes are actually working. So let's go here and bring up Postman. And let's first do the get on this URL. Send. A get request with item route on port 3000. We're good to go. And let's do a put. I believe that's the next one that we had. Yeah, we have a put. So let's go back here. Let's do a put. On the same path. A put request with newItem route. Boom, boom, boom. So we're good. That's the message that we actually have on the response. And then we have a delete. So let's go back here. Let's do a delete. Send. A delete request with item route, boom, boom, boom. So as you can see, it makes the code much cleaner and helps organize our application. If you really want, you could start creating modules in different files for each of your paths, export and then import them into your index.js file. Chaining is a great way to start organizing your code. Let's move on.
